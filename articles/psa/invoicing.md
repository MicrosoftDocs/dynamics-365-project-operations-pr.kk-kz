---
title: Project Service Automation бағдарламасында шот-фактура жіберу
description: Бұл тақырыпта шот-фактура жіберу туралы ақпарат берілген.
author: rumant
ms.custom:
- dyn365-projectservice
ms.date: 08/03/2020
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: e0dc911bb0ca72af547262a5716ef1091ea81c81
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: kk-KZ
ms.lasthandoff: 05/10/2021
ms.locfileid: "6015068"
---
# <a name="invoicing-in-project-service-automation"></a>Project Service Automation бағдарламасында шот-фактура жіберу

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

Dynamics 365 Project Service Automation бағдарламасындағы шот-фактура жіберу мүмкіндігі өте пайдалы, себебі ол жоба менеджерлеріне тұтынушылар үшін шот-фактуралар жасамас бұрын растаудың екінші деңгейін ұсынады. Растаудың бірінші деңгейі жоба тобының мүшелері ұсынған уақыт пен шығыстар туралы жазбалар бекітілгеннен кейін аяқталады.

PSA бағдарламасы келесі себептер бойынша тұтынушыға арналған шот-фактураларды жасауға арналмаған:

- Онда салық туралы ақпарат болмайды.
- Ол дұрыс конфигурацияланған валюта бағамдарын пайдалану арқылы басқа валюталарды шот-фактура валютасына түрлендіре алмайды.
- Ол шот-фактураларды басып шығаруға болатындай дұрыс пішімдей алмайды.

Оның орнына, PSA бағдарламасында жасалатын шот-фактуралық ұсыныстардың ақпаратын пайдаланатын тұтынушыға арналған шот-фактураларды жасау үшін қаржылық немесе бухгалтерлік есеп жүргізу жүйесін пайдалануға болады.

## <a name="creating-project-invoices-in-psa"></a>PSA бағдарламасында жоба есеп-шоттарын жасау

Жоба есеп-шоттары бір-бірден немесе жаппай жасалуы мүмкін. Сіз оларды қолмен жасай аласыз немесе оларды жүйе автоматты түрде іске қосылғанда жасалатындай етіп реттеуге болады.

### <a name="manually-create-project-invoices-in-psa"></a>PSA бағдарламасында жоба есеп-шоттарын қолмен жасау

**Жоба келісім-шарттары** тізім бетінде әр жоба келісім-шарты үшін жеке жоба есеп-шоттарын жасауға болады немесе бірнеше жоба келісім-шарты үшін есеп-шоттарды жаппай жасауға болады.

Белгілі бір жоба келісім-шарты үшін есеп-шот жасау үшін осы қадамды орындаңыз.

- **Жоба келісім-шарттары** тізім бетінде жоба келісім-шартын ашып, **Есеп-шот жасау** опциясын таңдаңыз.

    ![Белгілі бір жоба келісім-шарты үшін жоба есеп-шоттарын жасау](media/CreateProjectInvoicesOneByOne.png)

    Есеп-шот **Есеп-шот ұсынуға дайын** күйіндегі таңдалған жоба келісім-шарты бойынша барлық транзакциялар үшін жасалады. Бұл транзакцияларға уақыт, шығындар, кезеңдер және өнімге негізделген келісім-шарт жолдары кіреді.

Есеп-шоттарды жаппай жасау үшін келесі қадамдарды орындаңыз.

1. **Жоба келісім-шарттары** тізім бетінде есеп-шот жасау қажет бір немесе бірнеше жоба келісім-шартын таңдап, **Жоба есеп-шоттарын жасау** опциясын таңдаңыз.

    ![Жоба есеп-шоттарын жаппай жасау](media/CreateProjectInvoicesBulk.png)

    Ескерту хабарламасы есеп-шоттар жасалмас бұрын, кідіріс болуы мүмкін екенін хабарлайды. Процесс те көрсетілген.

2. Хабар терезесін жабу үшін, **OK** опциясын таңдаңыз.

    Есеп-шот **Есеп-шот ұсынуға дайын** күйіндегі келісім-шарт жолындағы барлық транзакциялар үшін жасалады. Бұл транзакцияларға уақыт, шығындар, кезеңдер және өнімге негізделген келісім-шарт жолдары кіреді.

3. Жасалған есеп-шоттарды көру үшін, **Сатылым** \> **Есепшот ұсыну** \> **Есепшоттар** тармағына өтіңіз. Әр жоба келісім-шарты бойынша бір есеп-шотты көресіз.

### <a name="set-up-automated-creation-of-project-invoices-in-psa"></a>PSA бағдарламасында жоба есеп-шоттарының автоматты түрде жасалуын реттеу

PSA бағдарламасында автоматты есеп-шоттың іске қосылуын конфигурациялау үшін келесі қадамдарды орындаңыз.

1. **Project Service** \> **Параметрлер** \> **Жиынтық тапсырмалар** тармағына өтіңіз.
2. Жиынтық тапсырманы құрып, оны **PSA есеп-шоттар жасау** деп атаңыз. Жиынтық тапсырма атауында "Есеп-шоттар жасау" термині болуы керек.
3. **Тапсырма түрі** өрісінде **Жоқ** опциясын таңдаңыз. Әдепкі бойынша, **Күнделікті жиілік** және **Белсенді** параметрлері **Иә** мәніне орнатылған.
4. **Жұмыс ағынын іске қосу** параметрін таңдаңыз. **Жазбаны іздеу** диалогтық терезесінде үш жұмыс ағынын көресіз:

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. **ProcessRunCaller** параметрін, содан кейін **Қосу** пәрменін таңдаңыз.
6. Келесі диалогтық терезеде **OK** пәрменін таңдаңыз. **Процесс** жұмыс ағынынан кейін **Ұйқы** жұмыс ағыны болады.

    Сондай-ақ **ProcessRunner** параметрін 5-қадамда таңдауға болады. Содан кейін **OK** пәрменін таңдаған кезде, **Процесс** жұмыс ағынынан кейіннен **Ұйқы** жұмыс ағынына өтеді.

Есеп-шоттар **ProcessRunCaller** және **ProcessRunner** жұмыс ағындарында жасалады. **ProcessRunCaller** жұмыс ағыны **ProcessRunner** жұмыс ағынын шақырады. **ProcessRunner** — бұл есеп-шоттар жасалатын жұмыс ағыны. Ол есеп-шоттар жасалуы керек барлық келісім-шарт жолдарынан өтіп сол жолдар үшін есеп-шоттар жасайды. Есеп-шоттар жасалуы керек келісім-шарт жолдарын анықтау үшін, тапсырма келісім-шарт жолдары бойынша есеп-шоттың орындалу мерзімдерін қарастырады. Егер бір келісім-шартқа жататын келісім-шарт жолдарында есеп-шоттың орындалу мерзімі бірдей болса, транзакциялар екі есеп-шот жолы бар бір есеп-шотқа біріктіріледі. Егер есеп-шот жасау бойынша транзакциялар болмаса, тапсырма есеп-шотты жасау қадамын өткізіп жібереді.

**ProcessRunner** іске қосылғаннан кейін, ол **ProcessRunCaller** жұмыс ағынын шақырып, аяқталу уақытын қамтамасыз етіп, жабылады. Содан кейін **ProcessRunCaller** жұмыс ағыны көрсетілген аяқталу уақытынан бастап 24 сағат бойын жұмыс істейтін таймерді іске қосады. Таймердің соңында **ProcessRunCaller** жұмыс ағыны жабылады.

Есеп-шоттар жасауға арналған жиынтықты өңдеу тапсырмасы қайталанатын тапсырма болып табылады. Егер бұл жиынтықты өңдеу бірнеше рет орындалса, онда бірнеше тапсырма жасалып, қателіктер туындайды. Сондықтан, жиынтықты өңдеуді тек бір рет орындауыңыз керек және ол тоқтағаннан кейін ғана қайта орындауыңыз керек.

> [!NOTE]
> Project Service Automation пакеттік есеп-шот ұсыну есеп-шот кестелерімен реттелген жобалық келісім-шарт жолы үшін ғана жұмыс істейді. Белгіленген бағамен шот ұсыну әдісі бар келісім-шарт жолында кезеңдер теңшелген болуы керек. Уақыт пен материалдық шот ұсыну әдісі бар жобаның келісім-шарт жолы күнтізбелік есеп-шот кестесін қажет етеді. Баға ұсыну жолына негізделген жоба контексінде есеп-шоттардың жиілігін орнату туралы ақпарат [Баға ұсыныстары мен баға ұсыну жолдары](basic-quote-lines.md#invoice-schedule) тақырыбында берілген. Бұл жобаға негізделген келісім-шарт жолына да қатысты.      
 
### <a name="edit-a-draft-psa-invoice"></a>Жобалық PSA есеп-шотын өңдеу

Жобалық есеп-шотты жасаған кезде, уақыт пен шығыстар туралы жазбалар бекітілген кезде жасалған барлық төленбеген сатылым транзакциялары есеп-шотқа қосылады. Есеп-шот әзірлеу кезеңінде болған кезде, келесі түзетулерді жасай аласыз:

- Есеп-шот жолы туралы мәліметтерді жою немесе өңдеу.
- Есеп-шот саны мен есеп-шот ұсыну түрін өңдеу және реттеу.
- Есеп-шоттағы транзакциялар ретінде уақытты, шығыстарды және төлем жарналарын тікелей қосыңыз. Егер есеп-шот жолы осы транзакция кластарына қолдау көрсететін келісім-шарт жолымен салыстырылатын болса, сіз осы мүмкіндікті пайдалана аласыз.

Есеп-шотты растау үшін **Растау** пәрменін таңдаңыз. Растау әрекеті — бұл бір жақты әрекет. **Растау** пәрменін таңдаған кезде, жүйе есеп-шотты тек оқу мақсатында жасайды және әрбір есеп-шот жолы үшін әрбір есеп-шот жолы туралы мәліметтен шот ұсынылған сатылымның нақты мәндерін жасайды. Егер есеп-шот жолы туралы мәлімет шот ұсынылмаған сатылымның нақты мәніне сілтеме жасаса, жүйе шот ұсынылмаған сатылымның нақты мәнін қайтарады. (Уақыт немесе шығыс жазбасынан жасалған есеп-шот жолы туралы кез келген мәлімет шот ұсынылмаған сатылымның нақты мәніне сілтеме жасайды.) Жалпы бухгалтерлік интеграциялау жүйелері бұл қайта бағыттау үрдісін жобаның орындалу бағытын (WIP) есеп жүргізу мақсаттарында өзгерту үшін қолдана алады.

### <a name="correct-a-confirmed-psa-invoice"></a>Расталған PSA есеп-шотын түзету

Расталған PSA есеп-шоттарын өңдеуге (түзетуге) болады. Расталған есеп-шотты түзеген кезде, жаңа түзетілген жобалық есеп-шот жасалады. Барлық транзакциялар мен сомаларды бастапқы есеп-шоттан қайтарғыңыз келетіндіктен, бұл түзетілген есеп-шот бастапқы есеп-шоттың барлық транзакцияларын қамтиды және ондағы барлық сомалар 0 (нөл) мәніне тең болады.

Егер қандай да бір транзакция түзетуді қажет етпесе, сіз оларды түзетілген жобалық есеп-шоттан алып тастай аласыз. Егер сіз тек ішінара мөлшерді қайтарғыңыз келсе, онда жол туралы мәліметтегі **Саны** өрісін өңдей аласыз. Егер есеп-шот жолы туралы мәліметті ашсаңыз, есеп-шоттың бастапқы мөлшерін көре аласыз. Содан кейін сіз ағымдағы есеп-шот мөлшерін бастапқы есеп-шоттың мөлшерінен аз немесе көп болатындай етіп өңдей аласыз.

Түзетілген есеп-шотты растаған кезде, бастапқы шот ұсынылмаған сатылымның нақты мәні кері бағытталады және жаңа шот ұсынылған сатылымның нақты мәні жасалады. Егер мөлшері азайтылған болса, туындаған айырмашылықтан жаңа шот ұсынылмаған сатылымның нақты мәні де жасалуы мүмкін. Мысалы, егер бастапқы шот ұсынылған сатылым сегіз сағатты құраса және түзетілген есеп-шот жолы туралы мәліметтегі мөлшері алты сағатқа қысқарған болса, онда PSA бағдарламасы бастапқы шот ұсынылған сатылым жолын қалпына келтіреді және екі жаңа нақты мәнді жасайды:

- Алты сағатқа арналған шот ұсынылған сатылымның нақты мәні.
- Қалған екі сағатқа арналған шот ұсынылмаған сатылымның нақты мәні. Бұл транзакцияға кейінірек есеп-шот ұсынылуы мүмкін немесе тұтынушымен жасалған келіссөздерге байланысты ақылы емес болып белгіленуі мүмкін.


[!INCLUDE[footer-include](../includes/footer-banner.md)]