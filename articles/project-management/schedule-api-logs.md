---
title: Жобаны жоспарлау журналдары
description: Бұл тақырып Жобаны жоспарлау қызметі мен Жобаны жоспарлау API интерфейстеріне қатысты қателерді бақылау үшін Жобаны жоспарлау журналдарын пайдалануға көмектесетін ақпарат пен үлгілерді қамтамасыз етеді.
author: ruhercul
ms.date: 11/30/2021
ms.topic: article
ms.reviewer: johnmichalak
ms.author: ruhercul
ms.openlocfilehash: 1a58a588d3e2fb92f1b4a4ed0f6f69d0a63908db
ms.sourcegitcommit: c0792bd65d92db25e0e8864879a19c4b93efb10c
ms.translationtype: MT
ms.contentlocale: kk-KZ
ms.lasthandoff: 04/14/2022
ms.locfileid: "8589525"
---
# <a name="project-scheduling-logs"></a>Жобаны жоспарлау журналдары

_**Қолданылады:** Ресурсқа/қорда жоқ негізделген сценарийлерге арналған жоба операциялары, Lite орналастыру - проформалық шот-фактураға мәміле_, _арналған жоба_

Microsoft Dynamics 365 Project Operations пайдаланады [Интернетке арналған жоба](https://support.microsoft.com/office/what-is-project-for-the-web-c19b2421-3c9d-4037-97c6-f66b6e1d2eb5) оның негізгі жоспарлау қозғалтқышы ретінде. Стандартты пайдаланудың орнына Microsoft Dataverse Веб қолданбалы бағдарламалау интерфейстері (API), Project Operations жоба тапсырмаларын, ресурс тағайындауларын, тапсырма тәуелділіктерін, жоба шелектерін және жоба топтарының мүшелерін жасау, жаңарту және жою үшін жаңа Жобаны жоспарлау API интерфейстерін пайдаланады. Дегенмен, жасау, жаңарту немесе жою әрекеттері жұмысты бұзу құрылымы (WBS) нысандарында бағдарламалық түрде іске қосылғанда қателер орын алуы мүмкін. Осы қателерді және әрекеттер тарихын қадағалау үшін екі жаңа әкімшілік журналы енгізілді: **Операциялар жинағы** және **Жобаны жоспарлау қызметі (PSS)**. Бұл журналдарға қол жеткізу үшін өтіңіз **Параметрлер** \> **Кесте интеграциясы**.

Келесі сурет жобаны жоспарлау журналдары үшін деректер үлгісін көрсетеді.

![Жобаны жоспарлау журналдарына арналған деректер үлгісі.](media/LOGDATAMODEL.jpg)

## <a name="operation-set-log"></a>Операциялар жинағы журналы

Операциялар жинағы журналы жобаларда, жоба тапсырмаларында, ресурс тағайындауларында, тапсырма тәуелділіктерінде, жоба шелектерінде немесе жоба тобы мүшелерінде бір немесе бірнеше жасау, жаңарту немесе жою операцияларын іске қосу үшін пайдаланылатын операциялар жиынының орындалуын қадағалайды. The **Күйдегі операция** өріс операциялар жиынының жалпы күйін көрсетеді. Операциялар жиынының пайдалы жүктемесінің мәліметтері қатысты Операциялар жиынының мәліметтері жазбаларында жазылған.

### <a name="operation-set"></a>Операциялар жинағы

Келесі кестеде қатысты өрістер көрсетілген **Операциялар жинағы** нысан.

| Схема аты            | Сипаттама                                                                                                  | DisplayName            |
|-----------------------|--------------------------------------------------------------------------------------------------------------|------------------------|
| msdyn_completedon     | Операциялар жинағы аяқталған немесе орындалмаған күн/уақыт.                                                | CompletedOn            |
| msdyn_correlationid   | The **корреляция идентификаторы** сұраныстың мәні.                                                                  | CorrelationId          |
| msdyn_description     | Операциялар жиынының сипаттамасы.                                                                        | Сипаттама            |
| msdyn_executedon      | Жазба іске қосылған күн/уақыт.                                                                       | Орындалған            |
| msdyn_operationsetId  | Нысан даналарының бірегей идентификаторы.                                                                   | OperationSet           |
| msdyn_Project         | Операциялар жиынына қатысты жоба.                                                            | Project                |
| msdyn_projectid       | The **жоба идентификаторы** сұраныстың мәні.                                                                      | ProjectId (ұсынылмаған) |
| msdyn_projectName     | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_PSSErrorLog     | Операциялар жинағымен байланысты жобаны жоспарлау қызметінің қате журналының бірегей идентификаторы. | PSS қателер журналы          |
| msdyn_PSSErrorLogName | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_status          | Операциялар жинағының күйі.                                                                             | Күйі                 |
| msdyn_statusName      | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_useraadid       | The Azure Active Directory (Azure AD) сұрау тиесілі пайдаланушының нысан идентификаторы.                     | UserAADID              |

### <a name="operation-set-detail"></a>Операциялар жиынының мәліметтері

Келесі кестеде қатысты өрістер көрсетілген **Операциялар жиынының мәліметтері** нысан.

| Схема аты                 | Сипаттама                                                                                 | DisplayName           |
|----------------------------|---------------------------------------------------------------------------------------------|-----------------------|
| msdyn_cdspayload           | Сериалданған Dataverse сұрауға арналған өрістер.                                            | CdsPayload            |
| msdyn_entityname           | Сұраныс үшін нысанның атауы.                                                     | EntityName            |
| msdyn_http етістік             | Сұраныс әдісі.                                                                         | HTTPVerb (ұсынылмаған) |
| msdyn_httpverbName         | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_operationsset         | Жазба тиесілі операция жиынының бірегей идентификаторы.                      | OperationSet          |
| msdyn_operationsetdetailId | Нысан даналарының бірегей идентификаторы.                                                  | OperationSet мәліметі   |
| msdyn_operationssetName     | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_operationtype        | Операциялар жиынының егжей-тегжейінің операция түрі.                                             | OperationType         |
| msdyn_operationtypeName    | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_psspayload           | Серияланған жобаны жоспарлау қызметі сұрау үшін өрістер.                           | PssPayload            |
| msdyn_recordid             | Сұраныс жазбасының идентификаторы.                                                       | Жазба идентификаторы             |
| msdyn_requestnumber        | Сұраныстардың қабылданған ретін анықтайтын автоматты түрде жасалған нөмір. | Нөмірін сұрау        |

## <a name="project-scheduling-service-error-logs"></a>Жобаны жоспарлау қызметінің қате журналдары

Project Scheduling Service қате журналдары Жобаны жоспарлау қызметі әрекетті орындаған кезде орын алатын түсіру қателері **Сақтау** немесе **Ашық** операция. Бұл журналдар жасалатын үш қолдау көрсетілетін сценарий бар:

- Пайдаланушы бастаған әрекеттер сыни түрде орындалмайды (мысалы, артықшылықтардың болмауына байланысты тағайындауды жасау мүмкін емес).
- Жобаны жоспарлау қызметі нысанда бағдарламалы түрде жасай алмайды, жаңарта алмайды, жоя алмайды немесе кез келген басқа каскадтық әрекетті орындай алмайды.
- Жазба ашылмаған кезде (мысалы, жоба ашылғанда немесе топ мүшесінің ақпараты жаңартылғанда) пайдаланушы қателерді сезінеді.

### <a name="project-scheduling-service-log"></a>Жобаны жоспарлау қызметінің журналы

Келесі кестеде Жобаны жоспарлау қызметі журналында қамтылған өрістер көрсетілген.

| Схема аты          | Сипаттама                                                                    | DisplayName    |
|---------------------|--------------------------------------------------------------------------------|----------------|
| msdyn_CallStack     | Ерекшелікті шақырулар стегі.                                               | Шақырулар стегі     |
| msdyn_correlationid | Қатенің корреляция идентификаторы.                                               | CorrelationId  |
| msdyn_errorcode     | сақтау үшін пайдаланылатын өріс Dataverse қате коды немесе HTTP қате коды. | Қате код     |
| msdyn_HelpLink      | Қоғамдық анықтама құжаттамасына сілтеме.                                       | Анықтама сілтемесі      |
| msdyn_log           | Жобаны жоспарлау қызметінен алынған журнал.                                   | Журнал            |
| msdyn_project       | Қате журналымен байланыстырылған жоба.                             | Project        |
| msdyn_projectName   | Операциялар жинағының пайдалы жүктемесі сақталатын болса, жобаның атауы. | Қолданылмайды |
| msdyn_psserrorlogId | Нысан даналарының бірегей идентификаторы.                                     | PSS қателер журналы  |
| msdyn_SessionId     | Жоба сеансының идентификаторы.                                                        | Сеанс идентификаторы     |

## <a name="error-log-cleanup"></a>Қате журналын тазалау

Әдепкі бойынша, Project Scheduling Service қате журналдары мен амалдар жинағы журналын 90 күн сайын тазалауға болады. 90 күннен асқан кез келген жазбалар жойылады. Дегенмен, мәнін өзгерту арқылы **msdyn_StateOperationSetAge** бойынша өріс **Жоба параметрлері** бетте, әкімшілер тазалау ауқымын 1 және 120 күн аралығында болатындай етіп реттей алады. Бұл мәнді өзгертудің бірнеше әдістері бар:

- теңшеңіз **Жоба параметрі** пайдаланушы бетін жасау және қосу арқылы нысан **Ескірген операциялар жасын орнату** өріс.
- қолданатын клиент кодын пайдаланыңыз [WebApi бағдарламалық құралды әзірлеу жинағы (SDK)](/powerapps/developer/model-driven-apps/clientapi/reference/xrm-webapi/updaterecord).
- Xrm SDK пайдаланатын Service SDK кодын пайдаланыңыз **Жазбаны жаңарту** үлгіге негізделген қолданбалардағы әдіс (Client API сілтемесі). Power Apps үшін сипаттаманы және қолдау көрсетілетін параметрлерді қамтиды **Жазбаны жаңарту** әдіс.

    ```C#
    Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter').then(function (response) {
        parameter = response.entities[0];
        var staleOperationValue = prompt("All records older than (x) days will be deleted, please enter X between 1 to 90 days", 1)
        var newData = {};
        newData.msdyn_projectparameterid = parameter.msdyn_projectparameterid;
        newData.msdyn_staleoperationsetage = parseInt(staleOperationValue);
        Xrm.WebApi.updateRecord("msdyn_projectparameter", parameter.msdyn_projectparameterid, newData).then(
            function success(result) {
                console.log("Project Parameter: Stale Operation Expiry is set to: " + newData.msdyn_staleoperationsetage);
                // perform operations on record update
                Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter')
                .then(function (response2) { console.log("Confirmed Project Parameter: Stale Operation Expiry is set to: " + response2.entities[0].msdyn_staleoperationsetage) });
            },
            function (error) {
                console.log("Failed to Update Project Ednpoint with error: " + error.message);
            // handle error conditions
            }
        );
    });
    ```
