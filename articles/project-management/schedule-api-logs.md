---
title: Жобаны жоспарлау журналдары
description: Бұл мақалада жобаны жоспарлау қызметі мен жобаны жоспарлау API интерфейстеріне қатысты қателерді бақылау үшін жобаны жоспарлау журналдарын пайдалануға көмектесетін ақпарат пен үлгілер берілген.
author: ruhercul
ms.date: 11/30/2021
ms.topic: article
ms.reviewer: johnmichalak
ms.author: ruhercul
ms.openlocfilehash: c57419642e90e4def01f2cd2474c9e82dc162b86
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: MT
ms.contentlocale: kk-KZ
ms.lasthandoff: 06/03/2022
ms.locfileid: "8923702"
---
# <a name="project-scheduling-logs"></a>Жобаны жоспарлау журналдары

_**Келесіге қолданылады:** ресурсқа/биржадан тыс негізделген сценарийлерге арналған Project Operations, жеңілдетілген орналастыру - проформа есеп‑шотын ұсыну мәмілесі_, _Project for the Web_

Microsoft Dynamics 365 Project Operations бағдарламасы негізгі жоспарлау қозғалтқышы ретінде [Project for the Web](https://support.microsoft.com/office/what-is-project-for-the-web-c19b2421-3c9d-4037-97c6-f66b6e1d2eb5) жүйесін пайдаланады. Стандартты Microsoft Dataverse веб бағдарламасының бағдарламалау интерфейстерін (API) пайдаланудың орнына, Project Operations жоба тапсырмаларын, ресурс тағайындауларын, тапсырма тәуелділіктерін, жоба контейнерлерін және жоба топтарының мүшелерін жасау, жаңарту және жою үшін жаңа жобаны жоспарлау API интерфейстерін пайдаланады. Дегенмен жасау, жаңарту немесе жою әрекеттері жұмыстың декомпозиция құрылымы (WBS) нысандарында бағдарламалық түрде іске қосылғанда қателер орын алуы мүмкін. Осы қателерді және жұмыс журналын қадағалау үшін екі жаңа әкімшілік журналы енгізілді: **Жұмыс жинағы** және **Жобаны жоспарлау қызметі (PSS)**. Бұл журналдарға қол жеткізу үшін **Параметрлер** \> **Кесте интеграциясы** тармағына өтіңіз.

Келесі сурет жобаны жоспарлау журналдарына арналған деректер үлгісін көрсетеді.

![Жобаны жоспарлау журналдарына арналған деректер үлгісі](media/LOGDATAMODEL.jpg)

## <a name="operation-set-log"></a>Жұмыс жинағына кіру

Жұмыс жинағының журналы жобаларда, жоба тапсырмаларында, ресурс тағайындауларында, тапсырма тәуелділіктерінде, жоба контейнерінде немесе жоба тобы мүшелерінде бір немесе бірнеше жасау, жаңарту немесе жою операцияларын іске қосу үшін пайдаланылатын жұмыс жиынағының орындалуын қадағалайды. **Күйдегі жұмыс** өрісі жұмыс жинағының жалпы күйін көрсетеді. Жұмыс жинағының пайдалы жүктемесінің мәліметтері қатысты жұмыс жинағының мәліметтері жазбаларында жазылған.

### <a name="operation-set"></a>Жұмыс жинағы

Келесі кестеде **Жұмыс жинағы** мәніне қатысты өрістер көрсетілген.

| Схема аты            | Сипаттама                                                                                                  | DisplayName            |
|-----------------------|--------------------------------------------------------------------------------------------------------------|------------------------|
| msdyn_completedon     | Жұмыс жинағы орындалған немесе сәтсіз аяқталған күн мен уақыт.                                                | CompletedOn            |
| msdyn_correlationid   | Сұраудың **correlationId** мәні.                                                                  | CorrelationId          |
| msdyn_description     | Жұмыс жинағының сипаттамасы.                                                                        | Сипаттама            |
| msdyn_executedon      | Жазба іске қосылған күн мен уақыт.                                                                       | Орындалған            |
| msdyn_operationsetId  | Нысан даналарының бірегей идентификаторы.                                                                   | OperationSet           |
| msdyn_Project         | Жұмыс жинағына қатысты жоба.                                                            | Project                |
| msdyn_projectid       | Сұраудың **projectId** мәні.                                                                      | ProjectId (ұсынылмаған) |
| msdyn_projectName     | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_PSSErrorLog     | Жұмыс жинағымен байланысты жобаны жоспарлау қызметінің қате журналының бірегей идентификаторы. | PSS қателер журналы          |
| msdyn_PSSErrorLogName | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_status          | Жұмыс жинағының күйі.                                                                             | Күйі                 |
| msdyn_statusName      | Қолданылмайды.                                                                                              | Қолданылмайды         |
| msdyn_useraadid       | Сұрау тиесілі пайдаланушының Azure Active Directory (Azure AD) нысанының идентификаторы.                     | UserAADID              |

### <a name="operation-set-detail"></a>Жұмыс жинағының мәліметі

Келесі кестеде **Жұмыс жинағының мәліметі** нысанына қатысты өрістер көрсетілген.

| Схема аты                 | Сипаттама                                                                                 | DisplayName           |
|----------------------------|---------------------------------------------------------------------------------------------|-----------------------|
| msdyn_cdspayload           | Сұраудың серияланған Dataverse өрістері.                                            | CdsPayload            |
| msdyn_entityname           | Сұрау нысанының аты.                                                     | EntityName            |
| msdyn_httpverb             | Сұрау әдісі.                                                                         | HTTPVerb (ұсынылмаған) |
| msdyn_httpverbName         | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_operationset         | Жазба тиесілі болып табылатын жұмыс жинағының бірегей идентификаторы.                      | OperationSet          |
| msdyn_operationsetdetailId | Нысан даналарының бірегей идентификаторы.                                                  | OperationSet мәліметі   |
| msdyn_operationsetName     | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_operationtype        | Жұмыс жинағы мәліметінің жұмыс түрі.                                             | OperationType         |
| msdyn_operationtypeName    | Қолданылмайды.                                                                             | Қолданылмайды        |
| msdyn_psspayload           | Сұрауға арналған серияланған жобаны жоспарлау қызметінің өрістері.                           | PssPayload            |
| msdyn_recordid             | Сұрау жазбасының идентификаторы.                                                       | Жазба идентификаторы             |
| msdyn_requestnumber        | Сұрауларды алу тәртібін анықтау үшін пайдаланылатын автоматты түрде құрылған нөмір. | Нөмірін сұрау        |

## <a name="project-scheduling-service-error-logs"></a>Жобаны жоспарлау қызметіндегі қателер журналы

Project Scheduling Service бағдарламасының қателер журналы жобаны жоспарлау қызметі **Сақтау** немесе **Ашу** жұмысын орындауға әрекеттенген кезде орын алатын сәтсіздіктерді анықтайды. Бұл журналдар жасалған кезде қолдау көрсетілетін үш сценарий бар:

- Пайдаланушы бастаған әрекеттер елеулі түрде сәтсіз аяқталады (мысалы, артықшылықтардың болмауына байланысты тапсырманы жасау мүмкін емес).
- Жобаны жоспарлау қызметі нысанда бағдарламалық түрде кез келген басқа каскадтық әрекетті жасай алмайды, жаңарта алмайды, жоя алмайды немесе орындай алмайды.
- Жазбаны ашу сәтсіз аяқталған кезде (мысалы, жоба ашылғанда немесе топ мүшесінің ақпараты жаңартылғанда) пайдаланушы қателерге тап болады.

### <a name="project-scheduling-service-log"></a>Жобаны жоспарлау қызметінің журналы

Келесі кестеде жобаны жоспарлау қызметінің журналында қосылатын өрістер көрсетілген.

| Схема аты          | Сипаттама                                                                    | DisplayName    |
|---------------------|--------------------------------------------------------------------------------|----------------|
| msdyn_CallStack     | Ерекшелікті шақырулар стегі.                                               | Шақырулар стегі     |
| msdyn_correlationid | Қатенің өзара қатынас идентификаторы.                                               | CorrelationId  |
| msdyn_errorcode     | Dataverse қате кодын немесе HTTP қате кодын сақтау үшін пайдаланылатын өріс. | Қате код     |
| msdyn_HelpLink      | Қоғамдық анықтама құжаттамасына сілтеме.                                       | Анықтама сілтемесі      |
| msdyn_log           | Жобаны жоспарлау қызметінен алынған журнал.                                   | Журнал            |
| msdyn_project       | Қателер журналымен байланысты болып табылатын жоба.                             | Project        |
| msdyn_projectName   | Жұмыс жинағының пайдалы жүктемесі сақталатын кездегі жобаның атауы. | Қолданылмайды |
| msdyn_psserrorlogId | Нысан даналарының бірегей идентификаторы.                                     | PSS қателер журналы  |
| msdyn_SessionId     | Жобаның сеанс идентификаторы.                                                        | Сеанс идентификаторы     |

## <a name="error-log-cleanup"></a>Қателер журналын тазалау

Әдепкі бойынша жобаны жоспарлау қызметінің қателер журналы мен жұмыс жинағының журналын 90 күн сайын тазалауға болады. 90 күннен асқан барлық жазба жойылатын болады. Дегенмен **msdyn_StateOperationSetAge** өрісінің мәнін **Жоба параметрлері** бетінде өзгерту арқылы әкімшілер тазалау ауқымын 1 және 120 күн аралығында болатындай етіп реттей алады. Бұл мәнді өзгертудің бірнеше әдісі бар:

- **Жоба параметрі** нысанын пайдаланушы бетін жасау және **Ескірген жұмыс жинағының жасы** өрісін қосу арқылы теңшеңіз.
- [WebApi бағдарламалық жасақтаманы әзірлеу жинағы (SDK)](/powerapps/developer/model-driven-apps/clientapi/reference/xrm-webapi/updaterecord) мүмкіндіктері қолданылатын клиент кодын пайдаланыңыз.
- Үлгіге негізделген бағдарламалардағы Xrm SDK **updateRecord** әдісін (клиенттік API сілтемесі) қолданатын Service SDK кодын пайдаланыңыз. Power Apps бағдарламасы **updateRecord** әдісіне арналған сипаттаманы және қолдау көрсетілетін параметрлерді қамтиды.

    ```C#
    Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter').then(function (response) {
        parameter = response.entities[0];
        var staleOperationValue = prompt("All records older than (x) days will be deleted, please enter X between 1 to 90 days", 1)
        var newData = {};
        newData.msdyn_projectparameterid = parameter.msdyn_projectparameterid;
        newData.msdyn_staleoperationsetage = parseInt(staleOperationValue);
        Xrm.WebApi.updateRecord("msdyn_projectparameter", parameter.msdyn_projectparameterid, newData).then(
            function success(result) {
                console.log("Project Parameter: Stale Operation Expiry is set to: " + newData.msdyn_staleoperationsetage);
                // perform operations on record update
                Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter')
                .then(function (response2) { console.log("Confirmed Project Parameter: Stale Operation Expiry is set to: " + response2.entities[0].msdyn_staleoperationsetage) });
            },
            function (error) {
                console.log("Failed to Update Project Ednpoint with error: " + error.message);
            // handle error conditions
            }
        );
    });
    ```
