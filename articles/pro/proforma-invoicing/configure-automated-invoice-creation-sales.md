---
title: Есеп-шоттың автоматты түрде жасалуын конфигурациялау - жеңілдетілген
description: Бұл тақырып алдын ала жазылатын есеп-шоттардың автоматты түрде жасалауын конфигурациялау туралы ақпарат береді.
author: rumant
manager: Annbe
ms.date: 10/13/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 1d911ab0defaaee40d8752557e1115ea49c8fa93
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: kk-KZ
ms.lasthandoff: 02/15/2021
ms.locfileid: "5274330"
---
# <a name="configure-automatic-invoice-creation---lite"></a>Есеп-шоттың автоматты түрде жасалуын конфигурациялау - жеңілдетілген
 
_**Қолданылады:** қарапайым орналастыру - проформа-шотын ұсыну мәмілесі_

Dynamics 365 Project Operations бағдарламасында есеп-шоттардың автоматты жасалуын конфигурациялауға болады. Жүйе әрбір келісім-шарт пен келісім-шарт жолы үшін есеп-шот кестесі негізінде алдын ала жазылатын есеп-шот жобасын жасайды. Есеп-шот кестелері келісім-шарт деңгейінде конфигурацияланған. Келісім-шарттың әрбір жолында нақты есеп-шот кестесі болуы мүмкін немесе келісім-шарттың әр жолына сол есеп-шот кестесі енгізілуі мүмкін.

Есеп-шот жасаған кезде, жүйе әрдайым бір жоба келісім-шарты бойынша кем дегенде бір есеп-шот жасайды. Кейбір жағдайларда бірнеше есеп-шоттар жасалуы мүмкін.

Мысалы, егер келісім-шартта бірнеше тұтынушы болса, онда жобаның осы келісім-шарты бойынша шот ұсыну үшін ақылы операциялары бар тұтынушылардың соншама саны жасалады.

## <a name="understand-how-transactions-are-included-on-an-invoice"></a>Операциялардың есеп-шотқа ену жолын түсіну 

Кейде жобаға негізделген келісім-шарт жолының әрқайсысы жеке есеп-шот кестесін көрсетеді. Мысалы, Adatum келісімшартын жүзеге асыру қызметтерінде келесі келісім-шарт жолдары бар:

- Қолмен жасалған екі кезеңмен бекітілген баға болып табылатын прототиптік жұмыс.
- Уақытты қамтитын және дүйсенбі сайын екі аптада бір рет төленетін енгізу жұмыстары.
- Әр айдың бірінші дүйсенбісінде ай сайын шығарылуы керек шығындар.

Осы екі көрсеткіш атауының әрқайсысы үшін анықталған есеп-шот кестелері келесі кестедегідей:

| Келісім-шарт жолы | Есеп-шот іске қосу күні | Транзакция мерзім соңы | Аралық кезеңнің күні | Кезең сомасы |
| --- | --- | --- | --- | --- |
| Прототиптік жұмыс | 5 қазан, дүйсенбі | - | 5 қазан, дүйсенбі | 5000 USD |
| - | 3 қараша, сейсенбі | - | 3 қараша, сейсенбі | 12,000 USD |
| Ендіру жұмысы | 5 қазан, дүйсенбі | 4 қазан, сенбі | - | - |
| - | 19 қазан, дүйсенбі | 18 қазан, сенбі | - | - |
| - | 2 қараша, дүйсенбі | 1 қараша, сенбі | - | - |
| - | 16 қараша, дүйсенбі | 15 қараша, сенбі | - | - |
| Шығарылған шығындар | 5 қазан, дүйсенбі | 4 қазан, сенбі | - | - |
| - | 2 қараша, дүйсенбі | 1 қараша, сенбі | - | - |

Бұл мысалда автоматты есеп-шот іске қосылған кез көрсетілген:

- **4 қазан немесе оған дейінгі кез келген күн**: Осы келісімшарт бойынша есеп-шот жасалмаған, өйткені осы келісім-шарт жолдарының әрқайсысына арналған **Есеп-шот кестесі** кестесі есеп-шотты орындау күні ретінде «4 қазан, сенбі» күнін көрсетпейді.
- **5 қазан, дүйсенбі**: Төмендегілер үшін бір есеп-шот жасалады:

    - Егер **Есеп-шотқа дайын** ретінде белгіленген болса, кезеңді қамтитын прототиптік жұмыс.
    - **Шот-фактураға дайын** ретінде белгіленген 4 қазан, сенбі күніндегі операцияны қысқарту күніне дейінгі барлық мерзімдік операцияларды қамтитын енгізу жұмысы.
    - **Есеп-шотқа дайын** ретінде белгіленген 4 қазан, сенбі күніндегі операцияны қысқарту күніне дейінгі барлық шығыс операцияларын қамтитын шығарылған шығындар.
  
- **6 қазан немесе 19 қазанға дейінгі кез келген күн**: Осы келісім-шарт жолдарының әрқайсысына арналған **Есеп-шот кестесі** кестесі есеп-шотты орындау күні ретінде 6 қазан немесе 19 қазанға дейінгі кез келген күнді көрсетпейтіндіктен осы келісім-шарт бойынша ешқандай есеп-шот жасалмаған.
- **19 қазан, дүйсенбі**: **Шот-фактураға дайын** ретінде белгіленген 18 қазан, сенбі күніндегі операцияны қысқарту күніне дейінгі барлық мерзімдік операцияларды қамтитын енгізу жұмысы үшін бір шот-фактура жасалған.
- **2 қараша, дүйсенбі**: Төмендегілер үшін бір есеп-шот жасалады:

    - **Шот-фактураға дайын** ретінде белгіленген 1 қараша, сенбі күніндегі операцияны қысқарту күніне дейінгі барлық мерзімдік операцияларды қамтитын енгізу жұмысы.
    - **Шот-фактураға дайын** ретінде белгіленген 1 қараша, сенбі күніндегі операцияны қысқарту күніне дейінгі барлық шығыс операцияларын қамтитын шығарылған шығындар.

- **3 қараша, сейсенбі**: Егер ол **Шот-фактураға дайын** ретінде белгіленсе, 12000 USD кезеңін қамтитын прототиптік жұмыс үшін бір шот-фактура жасалады.

## <a name="configure-automatic-invoicing"></a>Автоматты шот-фактура ұсынуды конфигурациялау

Шот-фактураны автоматты түрде ұсыну жұмыстарын орындауды конфигурациялау үшін келесі қадамдарды орындаңыз.

1. **Project Operations** бөлімінде **Параметрлер** > **Қайталанатын шот-фактураны реттеу** тармағына өтіңіз.
2. Жиынтық тапсырманы жасап, оны **Project Operations есеп-шоттар жасау** деп атаңыз. Жиынтық тапсырма атында "шот-фактуралар жасау" сөздері кірістірілуі керек.
3. **Тапсырма түрі** өрісінде **Жоқ** опциясын таңдаңыз. Әдепкі бойынша, **Күнделікті жиілік** және **Белсенді** өрістері **Иә** мәніне орнатылған.
4. **Жұмыс ағынын іске қосу** параметрін таңдаңыз. **Жазбаны іздеу** диалогтық терезесінде үш жұмыс ағынын көресіз:

- ProcessRunCaller
- ProcessRunner
- UpdateRoleUtilization

5. **ProcessRunCaller** параметрін, содан кейін **Қосу** пәрменін таңдаңыз.
6. Келесі диалогтық терезеде **OK** пәрменін таңдаңыз. **Процесс** жұмыс ағынынан кейін **Ұйқы** жұмыс ағыны болады. 

> [!NOTE]
> Сондай-ақ **ProcessRunner** параметрін 5-қадамда таңдауға болады. Содан кейін **OK** пәрменін таңдаған кезде, **Процесс** жұмыс ағынынан кейіннен **Ұйқы** жұмыс ағынына өтеді.

Есеп-шоттар **ProcessRunCaller** және **ProcessRunner** жұмыс ағындарында жасалады. **ProcessRunCaller** жұмыс ағыны **ProcessRunner** жұмыс ағынын шақырады. **ProcessRunner** — бұл есеп-шоттар жасалатын жұмыс ағыны. Жұмыс ағыны шот-фактуралар жасалуы керек барлық келісім-шарт жолдарынан өтіп сол жолдар үшін шот-фактуралар жасайды. Есеп-шоттар жасалуы керек келісім-шарт жолдарын анықтау үшін, тапсырма келісім-шарт жолдары бойынша есеп-шоттың орындалу мерзімдерін қарастырады. Егер бір келісім-шартқа жататын келісім-шарт жолдарында есеп-шоттың орындалу мерзімі бірдей болса, транзакциялар екі есеп-шот жолы бар бір есеп-шотқа біріктіріледі. Егер шот-фактура жасау бойынша транзакциялар болмаса, тапсырма шот-фактуралар жасау қадамын өткізіп жібереді.

**ProcessRunner** іске қосылғаннан кейін, ол **ProcessRunCaller** жұмыс ағынын шақырып, аяқталу уақытын қамтамасыз етіп, жабылады. Содан кейін **ProcessRunCaller** жұмыс ағыны көрсетілген аяқталу уақытынан бастап 24 сағат бойын жұмыс істейтін таймерді іске қосады. Таймердің соңында **ProcessRunCaller** жұмыс ағыны жабылады.

Есеп-шоттар жасауға арналған жиынтықты өңдеу тапсырмасы қайталанатын тапсырма болып табылады. Егер бұл жиынтықты өңдеу бірнеше рет орындалса, онда бірнеше тапсырма жасалып, қателіктер туындайды. Сондықтан, жиынтықты өңдеуді тек бір рет орындауыңыз керек және ол тоқтағаннан кейін ғана қайта орындаңыз.

> [!NOTE]
> Project Operations жүйесінде топтық шот-фактура жасау тек шот-фактура кестелері арқылы конфигурацияланған жобаның келісім-шарт жолдары үшін жұмыс істейді. Белгіленген бағамен шот ұсыну әдісі бар келісім-шарт жолында кезеңдер теңшелген болуы керек. Уақыт пен материалдық шот ұсыну әдісі бар жобаның келісім-шарт жолы күнтізбелік есеп-шот кестесін қажет етеді.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]